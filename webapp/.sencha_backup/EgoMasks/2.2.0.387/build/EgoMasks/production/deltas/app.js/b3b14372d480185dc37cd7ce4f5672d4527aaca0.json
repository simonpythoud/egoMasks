["/*f7d6230352a848820a46cba16a5e2556d4fa0ada",42,520547," \"+scrollCls,scrollable:mobileScrollBool",520590,1816,521215,32,"integration.IntegrationBox",524153,38,"Box\",config:{layout:\"hbox\",id:\"integrationBox\",items:[{layout:\"vbox\",flex:3,items:[{flex:4,xtype:\"button\",text:\">> Select a mask below <<\",id:\"maskName\"},{layout:\"hbox\",flex:1,items:[{xtype:\"button\",flex:3,id:\"maskTimer\",disabled:true,html:'Timer: --:--\"',tpl:new Ext.XTemplate('<span class=\"x-button-label\">Timer: {[this.formatedDuration(values.duration)]}\"</span>',{formatedDuration:function(f){var d=f/1000;var g=Math.floor(d%60);d/=60;var c=Math.floor(d%60);d/=60;var b=Math.floor(d%24);var a=(b?b+\":\":\"\")+((c<=9)?\"0\"+c:c)+\":\"+((g<=9)?\"0\"+g:g);return a}})},{xtype:\"button\",flex:1,tpl:new Ext.XTemplate(\"Click: {click}x\"),id:\"maskClicker\",disabled:true}]}]},{layout:\"vbox\",flex:1,items:[{xtype:\"button\",flex:1,text:\"Help ?\"},{xtype:\"button\",flex:1,text:\"+ note\"},{flex:1,xtype:\"button\",text:\"Finish Integration -> Go in Happine",523685,37,"}]",521215,32,"integration.MasksList",522471,32,"List\",config:{layout:\"vbox\",cls:\"masksList \"+scrollCls,scrollable:mobileScrollBool",521660,42,522466,61,524974,45,"Integration\"},{xtype:\"integrationBox\",flex:1,docked:\"top\"},{xtype:\"masksList\",flex:2",521215,32,523770,324,521215,32,524142,1412,"getStore(\"",525577,494,532208,58,532075,108,",associations:{type:\"hasOne\",model:\"EgoMasks.model.MaskGroup\"}}});Ext.define(\"EgoMasks.store.Mask",529504,56,"Mask",529568,41,"masks.json",531914,36,"masks\"}},grouper:{groupFn:function(a){return a.get(\"group_id\")}},filters:[{filterFn:function(a){return a.get(\"group_id\")}}]",529671,39,526071,404,",integrationBox:\"integrationBox\",integrationBoxMaskName:\"integrationBox #maskName\",integrationBoxMaskTimer:\"integrationBox #maskTimer\",integrationBoxMaskClicker:\"integrationBox #maskClicker\",masksList:\"masksList\",masksListBtns:\"masksList butt",526472,199,",integrationBoxMaskName:{tap:\"switchTimer\"},masksListBtns:{tap:\"selectMask",528720,33,526702,226,";this.integrationBoxMaskName=this.getIntegrationBoxMaskName();this.integrationBoxMaskTimer=this.getIntegrationBoxMaskTimer();this.integrationBoxMaskClicker=this.getIntegrationBoxMaskClicker();this.masksList=this.getMasksList();this.maskGroupsStore=Ext.getStore(\"MaskGroups\");this.masksStore=Ext.getStore(\"Masks\");this.maskGroupsStore.on(\"load\",this.createMasksList,this);this.masksStore.on(\"load\",this.createMasksList,this)},createMasksList:function(){if(!this.maskGroupsStore.isLoaded()||!this.masksStore.isLoaded()){return}var a=this;this.maskGroupsStore.each(function(d,e,f){var b=a.masksStore.getGroups(d.get(\"id\")).children;var c=Ext.create(\"Ext.Panel\",{cls:\"masksGroup\",layout:\"hbox\",items:[{xtype:\"label\",html:d.get(\"name\"),cls:\"verticalGroupName\",record:d},{layout:\"hbox\",flex:1,items:[a.createMask(b[0]),a.createMask(b[1]),a.createMask(b[2])]}]});a.masksList.add(c)})},createMask:function(a){return Ext.create(\"Ext.Button\",{text:a.get(\"name\"),record:a,flex:1}",526927,632,"miRecord",527546,167,"selectMask:function(b,c,g){this.stopTimer();if(this.miRecord){this.miRecord.save()}var f=b.getRecord();var a=this.currentIntegration.maskIntegration();var d=a.find(\"mask_id\",f.get(\"id\"));if(d>=0){this.miRecord=a.getAt(d);this.elapsedTime=this.miRecord.get(\"duration\");this.miRecord.set(\"click\",this.miRecord.get(\"click\")+1)}else{this.miRecord=a.add({mask_id:f.get(\"id\"),comment:\"...\",duration:0,click:1})[0];this.elapsedTime=0}this.miRecord.save();this.integrationBoxMaskName.setText(f.get(\"name\"));this.integrationBoxMaskClicker.setRecord(this.miRecord);this.integrationBoxMaskTimer.setRecord(this.miRecord);this.startTimer()},startTimer:function(){this.integrationInProgress=true;this.integrationBoxMaskTimer.setIconCls(\"play\");var a=this;var b=new Date().getTime()-this.miRecord.get(\"duration\");this.updateInterval=setInterval(function(){a.miRecord.set(\"duration\",(new Date().getTime()-b))},100)},stopTimer:function(){this.integrationInProgress=false;this.integrationBoxMaskTimer.setIconCls(\"pause\");clearInterval(this.updateInterval)},switchTimer:function(){if(this.integrationInProgress==null){return}if(this.integrationInProgress){this.stopTimer()}else{this.startTimer()}",527711,4158,"validations:[{type:\"presence\",field:\"title\"}],hasMany:{model:\"EgoMasks.model.MaskIntegration\",name:\"maskIntegration\"}",531868,206,532267,104,"model.Mask",531574,85,"integration_id\",type:\"string\"},{name:\"mask_id\",type:\"int",531713,32,",defaultValue:\"\"",531822,45,",{name:\"click",531839,63,"mask",531902,48,"mask",531950,61,532371,107,"define(\"EgoMasks.store.MaskGroup",529504,56,"MaskGroup",529568,41,"groups.json",531914,36,"groups\"}},autoLoad:true",532470,121,",\"Masks\",\"MaskGroup",532589,46,"MaskIntegration",532632,799]